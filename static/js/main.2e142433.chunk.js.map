{"version":3,"sources":["utils.js","WebAPI.js","pages/HomePage/HomePage.js","pages/AboutPage/AboutPage.js","contexts.js","pages/LoginPage/LoginPage.js","pages/NewPostPage/NewPostPage.js","pages/SinglePostPage/SinglePostPage.js","pages/RegisterPage/RegisterPage.js","components/Header/Header.js","components/App/App.js","index.js"],"names":["TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","BASE_URL","getMe","fetch","headers","then","res","json","Container","styled","div","PostsContainer","props","theme","colors","light_gray","PostContainer","PostTitle","Link","PostDate","PageControlerContainer","ul","Page","li","DeleteButton","button","PostRightContainer","LoadingPage","Post","post","setIsDeletingPost","handleDeletePost","event","id","Number","target","getAttribute","console","log","method","deletePost","to","title","Date","createdAt","toLocaleDateString","onClick","PageControler","pages","setPages","pagesArray","i","totalPages","push","map","pageNumber","currentPage","handleSetCurrentPage","innerText","HomePage","useState","posts","setPosts","isDeletingPost","isLoadingPost","setIsLoadingPost","useEffect","postsLength","length","pagesCount","Math","floor","slice","getCurrentPage","Banner","Body","AboutPage","AuthContext","createContext","ErrorMessage","InputContainer","Button","LoginPage","setUser","useContext","username","setUsername","password","setPassword","errorMessage","setErrormessage","history","useHistory","onSubmit","preventDefault","body","JSON","stringify","login","data","ok","message","response","toString","type","value","onChange","e","NewPostContainer","Section","Input","input","NewPostPage","setTitle","setBody","setErrorMessage","editor","ClassicEditor","onReady","newData","getData","replace","onBlur","onFocus","submitPost","SinglePostContainer","TitleContainer","Title","CreatedAt","setValue","useParams","getPostsById","result","catch","error","toLocaleTimeString","nickname","setNickname","register","HeaderContainer","Brand","NavbarList","Nav","$active","LeftContainer","Header","location","useLocation","user","as","pathname","CenterContainer","Footer","App","isLoadinGetMe","setIsLoadinGetMe","Provider","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2e142433.chunk.js","sourcesContent":["const TOKEN_NAME = 'token'\r\n\r\nexport const setAuthToken = (token) => {\r\n  localStorage.setItem(TOKEN_NAME, token)\r\n}\r\n\r\nexport const getAuthToken = () => {\r\n  return localStorage.getItem(TOKEN_NAME)\r\n}","import { getAuthToken } from './utils'\r\n\r\nconst BASE_URL = 'https://student-json-api.lidemy.me'\r\n\r\nexport const getPosts = () => {\r\n  return fetch(`${BASE_URL}/posts?_sort=id&_order=desc`).then((res) => res.json())\r\n}\r\n\r\nexport const getPostsById = (id) => {\r\n  return fetch(`${BASE_URL}/posts?id=${id}`).then((res) => res.json())\r\n}\r\n\r\nexport const login = (username, password) => {\r\n  return fetch(`${BASE_URL}/login`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      username,\r\n      password,\r\n    })\r\n  })\r\n  .then(res => res.json())\r\n}\r\n\r\nexport const register = (username, password, nickname) => {\r\n  return fetch(`${BASE_URL}/register`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      nickname,\r\n      username,\r\n      password\r\n    })\r\n  })\r\n  .then(res => res.json())\r\n}\r\n\r\nexport const getMe = () => {\r\n  const token = getAuthToken()\r\n  return fetch(`${BASE_URL}/me`, {\r\n    headers: {\r\n      'authorization': `Bearer ${token}`\r\n    }\r\n  })\r\n  .then(res => res.json())\r\n}\r\n\r\nexport const submitPost = (title, body) => {\r\n  const token = getAuthToken()\r\n  return fetch(`${BASE_URL}/posts`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json',\r\n      'authorization': `Bearer ${token}`\r\n    },\r\n    body: JSON.stringify({\r\n      title,\r\n      body,\r\n    })\r\n  })\r\n  .then(res => res.json())\r\n}\r\n\r\nexport const deletePost = (event) => {\r\n  const id = Number(event.target.getAttribute('id'))\r\n  const token = getAuthToken()\r\n  console.log(token)\r\n  return fetch(`${BASE_URL}/posts/${id}`, {\r\n    method: 'DELETE',\r\n    headers: {\r\n      'authorization': `Bearer ${token}`\r\n    }\r\n  })\r\n  .then(res => res.json())\r\n}","import React, { useEffect, useState } from \"react\"\nimport styled from \"styled-components\"\nimport PropTypes from \"prop-types\"\nimport { Link } from \"react-router-dom\";\nimport {deletePost, getPosts} from '../../WebAPI'\n\nconst Container = styled.div `\n  width: 80%;\n  margin: 0 auto;\n`\n\nconst PostsContainer = styled.div `\n  margin-top: 30px;\n  outline: solid ${props => props.theme.colors.light_gray} 0.5px;\n`\n\nconst PostContainer = styled.div `\n  border-bottom: 1px solid rgba(0, 12, 34, 0.2);\n  padding: 16px;\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n\n  &:hover {\n    box-shadow: 0.5px 0.5px 2px 0px ;\n  }\n`\n\nconst PostTitle = styled(Link) `\n  font-size: 24px;\n  text-decoration: none;\n  color: #333;\n`\n\nconst PostDate = styled.div `\n  color: rgba(0, 0, 0, 0.8);\n`\n\nconst PageControlerContainer = styled.ul `\n  margin: 20px auto;\n  width: 100px;\n  display: flex;\n  justify-content: space-around;\n  list-style-type: none;\n`\n\nconst Page = styled.li `\n  font-size: 20px;\n  cursor: pointer;\n`\n\nconst DeleteButton = styled.button `\n  padding: 10px;\n  margin-left: 20px;\n  border: none;\n`\n\nconst PostRightContainer = styled.div `\n  display: flex;\n`\n\nconst LoadingPage = styled.div `\n  position: relative;\n  width: 100%;\n  top: 30vh;\n  text-align: center;\n  font-size: 40px;\n  color: rgb(0,0,0,0.1)\n  font-scale: bold;\n`\n\nfunction Post({post, setIsDeletingPost}) {\n  function handleDeletePost(event) {\n    setIsDeletingPost(() => {return true})\n    deletePost(event).then(() => {\n      setIsDeletingPost(() => {return false})\n    })\n  }\n\n  return (\n    <PostContainer>\n      <PostTitle to={`/posts/${post.id}`}>{post.id}{\" . \"}{post.title}</PostTitle>\n      <PostRightContainer>\n        <PostDate>{new Date(post.createdAt).toLocaleDateString()}</PostDate>\n        <DeleteButton onClick={(event) => handleDeletePost(event) } id={post.id}>Delete</DeleteButton>\n      </PostRightContainer>\n    </PostContainer>\n  )\n}\n\nPost.propTypes = {\n  post: PropTypes.object\n}\n\nfunction PageControler({pages, setPages}) {\n  const pagesArray = []\n  for(let i=1; i <= pages.totalPages; i++) {\n    pagesArray.push(i)\n  }\n\n  function handleSetCurrentPage(pageNumber) {\n    setPages({\n      ...pages,\n      currentPage: pageNumber\n    })\n  }\n\n  return (\n    <PageControlerContainer>\n      {pagesArray.map(pageNumber => \n        <Page onClick={(event) => handleSetCurrentPage(Number(event.target.innerText))} key={pageNumber}>{pageNumber}</Page>\n      )}\n    </PageControlerContainer>\n  )\n}\n\nPageControler.propTypes = {\n  pages: PropTypes.object,\n  setPages: PropTypes.func\n}\n\nexport default function HomePage() {\n  const [posts, setPosts] = useState([])\n  const [pages, setPages] = useState({})\n  const [isDeletingPost, setIsDeletingPost] = useState(false)\n  const [isLoadingPost, setIsLoadingPost] = useState(false)\n  const capacity = 5\n\n  useEffect(() => {\n    setIsLoadingPost(true)\n    getPosts()\n    .then(posts => {\n      setPosts(posts)\n      setIsLoadingPost(false)\n      const postsLength = posts.length\n      const pagesCount = postsLength % capacity ? Math.floor(postsLength/capacity)+1 : Math.floor(postsLength/capacity)\n      setPages({\n        totalPages: pagesCount,\n        currentPage: 1\n      })\n    })\n  }, [isDeletingPost])\n\n  function getCurrentPage(posts, pages) {\n    if(true) { \n      const currentPage = pages.currentPage\n      return posts.slice((currentPage-1)*capacity ,currentPage*capacity)\n    }\n    return\n  }\n\n  return (\n    <Container>\n        { !isLoadingPost && (\n          <PostsContainer>\n            { getCurrentPage(posts, pages).map(post => <Post post={post} key={post.id} setIsDeletingPost={setIsDeletingPost}></Post>) }\n          </PostsContainer>\n        )}\n      { !isLoadingPost && <PageControler pages={pages} setPages={setPages}></PageControler> }\n      { isLoadingPost && <LoadingPage>Loading</LoadingPage> }\n    </Container>\n  )\n}\n\nHomePage.propTypes = {\n  posts: PropTypes.object,\n  pages: PropTypes.object\n}\n","import React from \"react\"\nimport styled from \"styled-components\"\n\nconst Banner = styled.div `\n  background: rgb(0,0,0,0.1);\n  width: 100vw;\n  height: 120px;\n  text-align: center;\n  font-size: 32px;\n  vertical-align: baseline;\n  padding-top: 60px;\n`\n\nconst Body = styled.div `\n  font-size: 26px;\n  text-align: center;\n  margin-top: 80px;\n`\n\n\nexport default function AboutPage() {\n\n  return (\n    <div>\n      <Banner>關於我們</Banner>\n      <Body>這是一個大家集體創作的部落格。<br />\n      你可以在這邊自由註冊、發文並觀看別人的文章。<br/>\n      enjoy writting!\n      </Body>\n    </div>\n\n  )\n}\n","import { createContext } from 'react'\r\n\r\nexport const AuthContext = createContext(null)\r\n","import React, { useState, useContext } from \"react\"\nimport styled from \"styled-components\"\nimport { login, getMe } from '../../WebAPI'\nimport { setAuthToken } from '../../utils'\nimport { useHistory } from 'react-router-dom'\nimport { AuthContext } from '../../contexts'\n\nconst ErrorMessage = styled.div `\n  color: red;\n  margin-top: 20px;\n`\n\nconst Container = styled.div `\n  position: relative;\n  left: 50%;\n  transform: translate(-50%,0px);\n  width: 30vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 30px;\n  background: white;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  border-radius: 5px;\n  border: solid 0.5px rgb(0,0,0,0.2);\n`\n\nconst InputContainer = styled.div `\n  padding-top: 10px;\n  padding-bottom: 10px;\n`\n\nconst Button = styled.button `\n  padding: 6px 10px;\n  border: none;\n  border-radius: 2px;\n  background: rgb(0,0,0,0.15);\n  font-size: 20px;\n  position: relative;\n  left: 50%;\n  transform: translate(-50%,0px);\n  margin-top:10px;\n`\n\nexport default function LoginPage() {\n  const { setUser } = useContext(AuthContext)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [errorMessage, setErrormessage] = useState('')\n  const history = useHistory()\n\n  const handleSubmit = (event) => {\n    setErrormessage(null)\n    event.preventDefault()\n    login(username, password).then(data => {\n      if(data.ok === 0) {\n        return setErrormessage(data.message)\n      }\n      setAuthToken(data.token)\n\n      getMe().then(response => {\n        if (response.ok !== 1) {\n          setAuthToken(null)\n          return setErrormessage(response.toString())\n        }\n        setUser(response.data)\n        history.push('/')\n      })\n    })\n  }\n\n  return (\n    <Container>\n      <form onSubmit={handleSubmit}>\n        <InputContainer>\n          username:{\" \"}\n          <input type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)}></input>\n        </InputContainer>\n        <InputContainer>\n          password:{\" \"}\n          <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)}></input>\n        </InputContainer>\n        <Button>登入</Button>\n      </form>\n      { errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage> }\n    </Container>\n  )\n}","import React, { useState } from \"react\"\nimport styled from \"styled-components\"\nimport { submitPost } from '../../WebAPI'\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport { useHistory } from 'react-router-dom'\n\nconst NewPostContainer = styled.div `\n  height: 70%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n\n  &:nth-child(3) {\n    width:100px;\n  }\n`\n\nconst Section = styled.div `\n  display: block;\n  width: 90vw;\n`\n\nconst Input = styled.input`\n  width: 100%;\n  height: 40px;\n  border: solid 0.1px rgb(0,0,0,0.2);\n  border-radius: 3px;\n  font-size:20px;\n`\n\nconst Button = styled.button`\n  padding: 8px 10px;\n  border: none;\n  font-size: 20px;\n  background: rgb(0,0,0,0.5);\n  border-radius: 5px;\n  cursor: pointer;\n  color: white;\n  margin-top: 30px;\n`\n\nconst ErrorMessage = styled.div `\n  color: red;\n`\n\nexport default function NewPostPage() {\n  const [title, setTitle] = useState('')\n  const [body, setBody] = useState('')\n  const [errorMessage, setErrorMessage] = useState('')\n\n  const history = useHistory()\n\n  function handleSubmit() {\n    if(title === '' || body === '') {\n      return setErrorMessage('請輸入資料')\n    }\n    submitPost(title, body).then(() => {\n      history.push('/')\n    })\n  }\n\n  return (\n    <NewPostContainer>\n      <Section>\n        <h2>Title</h2>\n        <Input value={title} onChange={(event) => {setTitle(event.target.value)}}></Input>\n      </Section>\n      <Section>\n        <h2>Body</h2>\n        <CKEditor \n          editor={ ClassicEditor }\n          value={body}\n          onReady={ editor => {\n              // You can store the \"editor\" and use when it is needed.\n              console.log( 'Editor is ready to use!', editor );\n          } }\n          onChange={ ( event, editor ) => {\n              const data = editor.getData();\n              let newData = data.replace('<p>', '')\n              newData = newData.replace('</p>', '')\n              setBody(newData)\n              console.log( { event, editor, newData } );\n          } }\n          onBlur={ ( event, editor ) => {\n              console.log( 'Blur.', editor );\n          } }\n          onFocus={ ( event, editor ) => {\n              console.log( 'Focus.', editor );\n          } }\n        />\n      </Section>\n      <Button onClick={handleSubmit}>Submit</Button>\n      <ErrorMessage>{errorMessage}</ErrorMessage>\n    </NewPostContainer>\n  )\n}\n","import React, { useEffect, useState } from \"react\"\nimport styled from \"styled-components\"\nimport PropTypes from \"prop-types\"\nimport {\n  useParams,\n  Link\n} from \"react-router-dom\";\nimport { getPostsById } from '../../WebAPI'\n\nNewPostPage.propTypes = {\n  post: PropTypes.object\n}\n\nconst SinglePostContainer = styled.div `\n  width: 70vw;\n  margin: 0 auto;\n`\n\nconst TitleContainer = styled.div `\n  margin-top: 30px;\n  display: flex;\n  justify-content: space-between;\n`\n\nconst Title = styled.div `\n  font-weight: bold;\n  font-size: 26px;\n  vertical-align: baseline;\n`\n\nconst CreatedAt = styled.div `\n  font-size: 20px;\n  vertical-align: bottom;\n  color: rgb(0,0,0,0.6);\n`\n\nconst Body = styled.div `\n  margin-top: 10px;\n  padding-top: 20px;\n  border-top: solid 0.5px rgb(0,0,0,0.3);\n  font-size:26px;\n`\n\nexport default function NewPostPage() {\n  const [value, setValue] = useState({})\n  const {id} = useParams()\n  useEffect(() => {\n    getPostsById(id)\n    .then(result => {\n      setValue(result[0])\n      return console.log(value)\n    }).catch(error => {\n      return console.log(error.toString())\n    })\n  }, [])\n\n  return (\n    <SinglePostContainer>\n      <TitleContainer>\n        <Title>{value.title}</Title>\n        <CreatedAt>{new Date(value.createdAt).toLocaleTimeString()}</CreatedAt>\n      </TitleContainer>\n      <Body>{value.body}</Body>\n    </SinglePostContainer>\n  )\n}\n","import React, { useState, useContext } from \"react\"\nimport styled from \"styled-components\"\nimport { register, getMe } from '../../WebAPI'\nimport { setAuthToken } from '../../utils'\nimport { useHistory } from 'react-router-dom'\nimport { AuthContext } from '../../contexts'\n\nconst ErrorMessage = styled.div `\n  color: red;\n  margin-top: 20px;\n`\n\nconst Container = styled.div `\n  position: relative;\n  left: 50%;\n  transform: translate(-50%,0px);\n  width: 30vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 30px;\n  background: white;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  border-radius: 5px;\n  border: solid 0.5px rgb(0,0,0,0.2);\n`\n\nconst InputContainer = styled.div `\n  padding-top: 10px;\n  padding-bottom: 10px;\n`\n\nconst Button = styled.button `\n  padding: 6px 10px;\n  border: none;\n  border-radius: 2px;\n  background: rgb(0,0,0,0.15);\n  font-size: 20px;\n  position: relative;\n  left: 50%;\n  transform: translate(-50%,0px);\n  margin-top:10px;\n`\n\nexport default function LoginPage() {\n  const { setUser } = useContext(AuthContext)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [nickname, setNickname] = useState('')\n  const [errorMessage, setErrormessage] = useState('')\n  const history = useHistory()\n\n  const handleSubmit = (event) => {\n    setErrormessage(null)\n    event.preventDefault()\n    register(username, password, nickname)\n    .then(data => {\n      if(data.ok === 0) {\n        return setErrormessage(data.message)\n      }\n      setAuthToken(data.token)\n      getMe().then(response => {\n        if (response.ok !== 1) {\n          setAuthToken(null)\n          return setErrormessage(response.toString())\n        }\n        setUser(response.data)\n        history.push('/')\n      })\n    })\n  }\n\n  return (\n    <Container>\n      <form onSubmit={handleSubmit}>\n        <InputContainer>\n          username:{\" \"}\n          <input type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)}></input>\n        </InputContainer>\n        <InputContainer>\n          password:{\" \"}\n          <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)}></input>\n        </InputContainer>\n        <InputContainer>\n          nickname:{\" \"}\n          <input type=\"text\" value={nickname} onChange={(e) => setNickname(e.target.value)}></input>\n        </InputContainer>\n        <Button>註冊</Button>\n      </form>\n      { errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage> }\n    </Container>\n  )\n}","import React, { useContext } from \"react\"\nimport styled from \"styled-components\"\nimport {\n  Link,\n  useLocation\n} from \"react-router-dom\";\nimport { AuthContext } from '../../contexts'\nimport { setAuthToken } from '../../utils'\nimport { useHistory } from 'react-router-dom'\n\nconst HeaderContainer =styled.div `\n  height: 64px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  right: 0;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  position: fixed;\n  border-bottom: solid 0.1px rgb(0,0,0,0.2);\n  padding: 0px, 30px;\n  background: white;\n  box-shadow: 0.2px 0.2px 0.3px;\n`\n\nconst Brand = styled.div `\n  margin-left: 20px;\n  font-size: 32px;\n  font-weight: bold;\n  text-decoration: none;\n  color: black;\n`\n\nconst NavbarList = styled.div `\n  display: flex;\n  align-items: center;\n`\n\nconst Nav = styled(Link) ` \n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 64px;\n  box-sizing: border-box;\n  width: 100px;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n  transition: font-size 0.3s;\n\n  &:hover {\n    font-size:18px\n  }\n\n  ${(props) => \n    props.$active && `background: rgb(0,0,0,0.2)`\n  }\n`\n\nconst LeftContainer = styled.div `\n  display: flex;\n  align-items: center;\n\n  ${NavbarList} {\n    margin-left: 32px;\n  }\n`\n\nexport default function Header() {\n  const location = useLocation()\n  const history = useHistory()\n  const { user, setUser } = useContext(AuthContext)\n\n  const handleLogout = () => {\n    setAuthToken('')\n    setUser(null)\n    if(location.pathname !== \"/\") {\n      history.push('/')\n    }\n  }\n\n  return (\n    <HeaderContainer>\n      <LeftContainer>\n        <Brand as={Link} to='/'>大家的部落格</Brand>\n        <NavbarList>\n          <Nav to='/' $active={location.pathname === '/'} >首頁</Nav>\n          <Nav to='/about' $active={location.pathname === '/about'} >關於</Nav>\n          { user && <Nav to='/new-post' $active={location.pathname === '/new-post'}>發布文章</Nav> }\n        </NavbarList>\n      </LeftContainer>\n      <NavbarList>\n        { !user && <Nav to='/login' $active={location.pathname === '/login'}>登入</Nav> }\n        { !user && <Nav to='/register' $active={location.pathname === '/register'}>註冊</Nav> }\n        { user && <Nav onClick={handleLogout}>登出</Nav>}\n      </NavbarList>\n    </HeaderContainer>\n  )\n}\n","import React, { useState, useEffect } from \"react\"\nimport styled from \"styled-components\"\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport HomePage from '../../pages/HomePage'\nimport AboutPage from '../../pages/AboutPage'\nimport LoginPage from '../../pages/LoginPage'\nimport NewPostPage from '../../pages/NewPostPage'\nimport SinglePostPage from '../../pages/SinglePostPage'\nimport RegisterPage from '../../pages/RegisterPage'\nimport Header from '../Header'\nimport { AuthContext } from \"../../contexts\";\nimport { getMe } from \"../../WebAPI\"\n\nconst CenterContainer = styled.div `\n  padding-top: 64px;\n  padding-bottom: 50px;\n`\n\nconst Footer = styled.div `\n  position: absolute;\n  bottom: 0px;\n  width: 100%;\n  height: 50px;\n  font-size: 16px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: ${props => props.theme.colors.light_gray};\n`\n\nexport default function App() {\n  const [user, setUser] = useState(null)\n  const [isLoadinGetMe, setIsLoadinGetMe] = useState(false)\n\n  useEffect(() => {\n    if(localStorage.getItem('token')) {\n      setIsLoadinGetMe(true)\n      getMe().then(response => {\n        if(response.ok) {\n          setUser(() => {\n            return response.data\n          })\n          setIsLoadinGetMe(false)\n        }\n      })\n    }\n  }, [])\n\n  return (\n    <AuthContext.Provider value={{user, setUser}}>\n          <Router>\n            {!isLoadinGetMe && <Header /> }\n            {!isLoadinGetMe && (\n              <CenterContainer>\n                <Switch>\n                  <Route exact path=\"/\"> \n                    <HomePage/>\n                  </Route>\n                  <Route path=\"/about\"> \n                    <AboutPage />\n                  </Route>\n                  <Route path=\"/new-post\"> \n                    <NewPostPage />\n                  </Route>\n                  <Route path=\"/login\">\n                    <LoginPage />\n                  </Route>\n                  <Route path=\"/posts/:id\">\n                    <SinglePostPage />\n                  </Route>\n                  <Route path=\"/register\">\n                    <RegisterPage />\n                  </Route>\n                </Switch>\n              </CenterContainer>\n            )}\n            {!isLoadinGetMe && <Footer>Made by Ian!</Footer> }\n          </Router>\n    </AuthContext.Provider>\n  )\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { ThemeProvider } from \"styled-components\"; //一個 <ThemeProvider>的外層 Component 來實踐換網站主題設計的系統\n\nconst theme = {\n  colors : {\n    light_gray : '#D0D0D0',\n  }\n}\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n      <App />\n  </ThemeProvider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}