{"version":3,"sources":["utils.js","WebAPI.js","pages/HomePage/HomePage.js","pages/AboutPage/AboutPage.js","contexts.js","pages/LoginPage/LoginPage.js","pages/NewPostPage/NewPostPage.js","pages/SinglePostPage/SinglePostPage.js","pages/RegisterPage/RegisterPage.js","components/Header/Header.js","components/App/App.js","index.js"],"names":["TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","BASE_URL","getMe","fetch","headers","then","res","json","Container","styled","div","PostsContainer","PostContainer","PostTitle","Link","PostDate","PageControlerContainer","ul","Page","li","DeleteButton","button","PostRightContainer","LoadingPage","Post","post","handleDeletePost","to","id","title","Date","createdAt","toLocaleDateString","onClick","event","PageControler","pages","setPages","pagesArray","i","totalPages","push","map","pageNumber","currentPage","handleSetCurrentPage","Number","target","innerText","HomePage","useState","posts","setPosts","isLoadingPost","setIsLoadingPost","deletingPostToggle","setDeletingPostToggle","getAttribute","method","deletePost","useLayoutEffect","postsLength","length","pagesCount","Math","floor","slice","getCurrentPage","Banner","Body","AboutPage","AuthContext","createContext","ErrorMessage","InputContainer","Button","LoginPage","setUser","useContext","username","setUsername","password","setPassword","errorMessage","setErrormessage","history","useHistory","onSubmit","preventDefault","body","JSON","stringify","login","data","ok","message","response","toString","type","value","onChange","e","NewPostContainer","Section","Input","input","NewPostPage","setTitle","setBody","setErrorMessage","editor","ClassicEditor","onReady","console","log","newData","getData","replace","onBlur","onFocus","submitPost","SinglePostContainer","TitleContainer","Title","CreatedAt","setValue","useParams","useEffect","getPostsById","result","catch","error","toLocaleTimeString","nickname","setNickname","register","HeaderContainer","Brand","NavbarList","Nav","props","$active","LeftContainer","Header","location","useLocation","user","as","pathname","CenterContainer","Footer","App","isLoadinGetMe","setIsLoadinGetMe","Provider","exact","path","startApp","window","FB","getLoginStatus","status","api","fields","document","getElementById","innerHTML","authResponse","statusChangeCallback","Promise","resolve","fbAsyncInit","init","appId","cookie","xfbml","version","AppEvents","logPageView","d","s","js","fjs","getElementsByTagName","createElement","src","parentNode","insertBefore","ReactDOM","render","theme","colors","light_gray","black"],"mappings":"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","file":"static/js/main.d83707df.chunk.js","sourcesContent":["const TOKEN_NAME = 'token'\r\n\r\nexport const setAuthToken = (token) => {\r\n  localStorage.setItem(TOKEN_NAME, token)\r\n}\r\n\r\nexport const getAuthToken = () => {\r\n  return localStorage.getItem(TOKEN_NAME)\r\n}","import { getAuthToken } from './utils'\r\n\r\nconst BASE_URL = 'https://student-json-api.lidemy.me'\r\n\r\nexport const getPosts = () => {\r\n  return fetch(`${BASE_URL}/posts?_sort=id&_order=desc`).then((res) => res.json())\r\n}\r\n\r\nexport const getPostsById = (id) => {\r\n  return fetch(`${BASE_URL}/posts?id=${id}`).then((res) => res.json())\r\n}\r\n\r\nexport const login = (username, password) => {\r\n  return fetch(`${BASE_URL}/login`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      username,\r\n      password,\r\n    })\r\n  })\r\n  .then(res => res.json())\r\n}\r\n\r\nexport const register = (username, password, nickname) => {\r\n  return fetch(`${BASE_URL}/register`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      nickname,\r\n      username,\r\n      password\r\n    })\r\n  })\r\n  .then(res => res.json())\r\n}\r\n\r\nexport const getMe = () => {\r\n  const token = getAuthToken()\r\n  return fetch(`${BASE_URL}/me`, {\r\n    headers: {\r\n      'authorization': `Bearer ${token}`\r\n    }\r\n  })\r\n  .then(res => res.json())\r\n}\r\n\r\nexport const submitPost = (title, body) => {\r\n  const token = getAuthToken()\r\n  return fetch(`${BASE_URL}/posts`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json',\r\n      'authorization': `Bearer ${token}`\r\n    },\r\n    body: JSON.stringify({\r\n      title,\r\n      body,\r\n    })\r\n  })\r\n  .then(res => res.json())\r\n}\r\n\r\nexport const deletePost = (event) => {\r\n  const id = Number(event.target.getAttribute('id'))\r\n  const token = getAuthToken()\r\n  return fetch(`${BASE_URL}/posts/${id}`, {\r\n    method: 'DELETE',\r\n    headers: {\r\n      'authorization': `Bearer ${token}`\r\n    }\r\n  })\r\n  .then(res => res.json())\r\n}","import React, { useEffect, useLayoutEffect, useState } from \"react\"\nimport styled from \"styled-components\"\nimport PropTypes from \"prop-types\"\nimport { Link } from \"react-router-dom\";\nimport {deletePost, getPosts} from '../../WebAPI'\n\nconst Container = styled.div `\n  width: 80%;\n  margin: 0 auto;\n`\n\nconst PostsContainer = styled.div `\n  margin-top: 30px;\n  outline: solid rgb(0,0,0,0.2) 0.5px;\n`\n\nconst PostContainer = styled.div `\n  border-bottom: 1px solid rgba(0, 12, 34, 0.2);\n  padding: 16px;\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n\n  &:hover {\n    box-shadow: 0.5px 0.5px 2px 0px ;\n  }\n`\n\nconst PostTitle = styled(Link) `\n  font-size: 24px;\n  text-decoration: none;\n  color: #333;\n`\n\nconst PostDate = styled.div `\n  color: rgba(0, 0, 0, 0.8);\n`\n\nconst PageControlerContainer = styled.ul `\n  margin: 20px auto;\n  width: 100px;\n  display: flex;\n  justify-content: space-around;\n  list-style-type: none;\n`\n\nconst Page = styled.li `\n  font-size: 20px;\n  cursor: pointer;\n`\n\nconst DeleteButton = styled.button `\n  padding: 10px;\n  margin-left: 20px;\n  border: none;\n`\n\nconst PostRightContainer = styled.div `\n  display: flex;\n`\n\nconst LoadingPage = styled.div `\n  position: relative;\n  width: 100%;\n  top: 30vh;\n  text-align: center;\n  font-size: 40px;\n  color: rgb(0,0,0,0.1)\n  font-scale: bold;\n`\n\nfunction Post({post, handleDeletePost}) {\n\n  return (\n    <PostContainer>\n      <PostTitle to={`/posts/${post.id}`}>{post.id}{\" . \"}{post.title}</PostTitle>\n      <PostRightContainer>\n        <PostDate>{new Date(post.createdAt).toLocaleDateString()}</PostDate>\n        <DeleteButton onClick={(event) => handleDeletePost(event) } id={post.id}>Delete</DeleteButton>\n      </PostRightContainer>\n    </PostContainer>\n  )\n}\n\nPost.propTypes = {\n  post: PropTypes.object\n}\n\nfunction PageControler({pages, setPages}) {\n  const pagesArray = []\n  for(let i=1; i <= pages.totalPages; i++) {\n    pagesArray.push(i)\n  }\n\n  function handleSetCurrentPage(pageNumber) {\n    setPages({\n      ...pages,\n      currentPage: pageNumber\n    })\n  }\n\n  return (\n    <PageControlerContainer>\n      {pagesArray.map(pageNumber => \n        <Page onClick={(event) => handleSetCurrentPage(Number(event.target.innerText))} key={pageNumber}>{pageNumber}</Page>\n      )}\n    </PageControlerContainer>\n  )\n}\n\nPageControler.propTypes = {\n  pages: PropTypes.object,\n  setPages: PropTypes.func\n}\n\nexport default function HomePage() {\n  const [posts, setPosts] = useState([])\n  const [pages, setPages] = useState({})\n  const [isLoadingPost, setIsLoadingPost] = useState(false)\n  const [deletingPostToggle, setDeletingPostToggle] = useState(false)\n  const capacity = 5\n\n  useLayoutEffect(() => {\n    setIsLoadingPost(true)\n    getPosts()\n    .then(posts => {\n      setPosts(posts)\n      setIsLoadingPost(false)\n      const postsLength = posts.length\n      const pagesCount = postsLength % capacity ? Math.floor(postsLength/capacity)+1 : Math.floor(postsLength/capacity)\n      setPages({\n        totalPages: pagesCount,\n        currentPage: 1\n      })\n    })\n  }, [deletingPostToggle])\n\n  function getCurrentPage(posts, pages) {\n    if(true) { \n      const currentPage = pages.currentPage\n      return posts.slice((currentPage-1)*capacity ,currentPage*capacity)\n    }\n    return\n  }\n\n  function handleDeletePost(event) { \n    deletePost(event).then(() => {\n      setDeletingPostToggle(!deletingPostToggle)\n    })\n  }\n\n  return (\n    <Container>\n        { !isLoadingPost && (\n          <PostsContainer>\n            { getCurrentPage(posts, pages).map(post => \n              <Post post={post} key={post.id} handleDeletePost={handleDeletePost}></Post>)\n            }\n          </PostsContainer>\n        )}\n      { !isLoadingPost && <PageControler pages={pages} setPages={setPages}></PageControler> }\n      { isLoadingPost && <LoadingPage>Loading</LoadingPage> }\n    </Container>\n  )\n}\n\nHomePage.propTypes = {\n  posts: PropTypes.object,\n  pages: PropTypes.object\n}\n","import React from \"react\"\nimport styled from \"styled-components\"\n\nconst Banner = styled.div `\n  background: rgb(0,0,0,0.1);\n  width: 100vw;\n  height: 120px;\n  text-align: center;\n  font-size: 32px;\n  vertical-align: baseline;\n  padding-top: 60px;\n`\n\nconst Body = styled.div `\n  font-size: 26px;\n  text-align: center;\n  margin-top: 80px;\n`\n\n\nexport default function AboutPage() {\n\n  return (\n    <div>\n      <Banner>關於我們</Banner>\n      <Body>這是一個大家集體創作的部落格。<br />\n      你可以在這邊自由註冊、發文並觀看別人的文章。<br/>\n      enjoy writting!\n      </Body>\n    </div>\n\n  )\n}\n","import { createContext } from 'react'\r\n\r\nexport const AuthContext = createContext(null)\r\n","import React, { useState, useContext, useEffect, useLayoutEffect } from \"react\"\nimport styled from \"styled-components\"\nimport { login, getMe } from '../../WebAPI'\nimport { setAuthToken } from '../../utils'\nimport { useHistory } from 'react-router-dom'\nimport { AuthContext } from '../../contexts'\n\nconst ErrorMessage = styled.div `\n  color: red;\n  margin-top: 20px;\n`\n\nconst Container = styled.div `\n  position: relative;\n  left: 50%;\n  transform: translate(-50%,0px);\n  width: 30vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 30px;\n  background: white;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  border-radius: 5px;\n  border: solid 0.5px rgb(0,0,0,0.2);\n`\n\nconst InputContainer = styled.div `\n  padding-top: 10px;\n  padding-bottom: 10px;\n`\n\nconst Button = styled.button `\n  padding: 6px 10px;\n  border: none;\n  border-radius: 2px;\n  background: rgb(0,0,0,0.15);\n  font-size: 20px;\n  position: relative;\n  left: 50%;\n  transform: translate(-50%,0px);\n  margin-top:10px;\n`\n\n\nexport default function LoginPage() {\n  const { setUser } = useContext(AuthContext)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [errorMessage, setErrormessage] = useState('')\n  const history = useHistory()\n\n  // useLayoutEffect(() => {\n  //   const body = document.getElementsByTagName('body')[0]\n  //   const script = document.createElement('script')\n  //   script.innerHTML = `\n  //     window.fbAsyncInit = function() {\n  //       FB.init({\n  //         appId      : '382475983013781',\n  //         cookie     : true,\n  //         xfbml      : true,\n  //         version    : 'v9.0'\n  //       });\n          \n  //       FB.AppEvents.logPageView();   \n          \n  //     };\n\n  //     (function(d, s, id){\n  //       var js, fjs = d.getElementsByTagName(s)[0];\n  //       if (d.getElementById(id)) {return;}\n  //       js = d.createElement(s); js.id = id;\n  //       js.src = \"https://connect.facebook.net/en_US/sdk.js\";\n  //       fjs.parentNode.insertBefore(js, fjs);\n  //     }(document, 'script', 'facebook-jssdk'));\n\n  //     // FB.getLoginStatus(function(response) {\n  //     //   statusChangeCallback(response);\n  //     // });\n\n  //     function getLoginStatus() {\n  //       FB.getLoginStatus(function(response) {\n  //         statusChangeCallback(response);\n  //       });\n  //     }\n\n  //     setTimeout(() => {\n  //       getLoginStatus()\n  //     }, 5000)\n      \n\n  //     // This is called with the results from from FB.getLoginStatus().\n  //     function statusChangeCallback(response) {\n  //       console.log('statusChangeCallback');\n  //       console.log(response);\n  //       // The response object is returned with a status field that lets the\n  //       // app know the current login status of the person.\n  //       // Full docs on the response object can be found in the documentation\n  //       // for FB.getLoginStatus().\n  //       if (response.status === 'connected') {\n  //         // Logged into your app and Facebook.\n  //         testAPI();\n  //       } else if (response.status === 'not_authorized') {\n  //         // The person is logged into Facebook, but not your app.\n  //         document.getElementById('status').innerHTML = 'Please log ' +\n  //           'into this app.';\n  //       } else {\n  //         // The person is not logged into Facebook, so we're not sure if\n  //         // they are logged into this app or not.\n  //         document.getElementById('status').innerHTML = 'Please log ' +\n  //           'into Facebook.';\n  //       }\n  //     }\n\n  //     // This function is called when someone finishes with the Login\n  //     // Button.  See the onlogin handler attached to it in the sample\n  //     // code below.\n  //     function checkLoginState() {\n  //       FB.getLoginStatus(function(response) {\n  //         statusChangeCallback(response);\n  //       });\n  //     }\n\n  //     // Here we run a very simple test of the Graph API after login is\n  //     // successful.  See statusChangeCallback() for when this call is made.\n  //     function testAPI() {\n  //       console.log('Welcome!  Fetching your information.... ');\n  //       FB.api('/me', function(response) {\n  //         console.log('Successful login for: ' + response.name);\n  //         document.getElementById('status').innerHTML =\n  //           'Thanks for logging in, ' + response.name + '!';\n  //       });\n\n  //     }\n      \n  //     function FBlogin() {\n  //       FB.login(function (response) {\n  //         /*console.log(response);*/\n  //       });\n  //     }\n\n  //     function FBlogout() {\n  //       FB.logout(function (response) {\n  //         /*console.log(response)*/\n  //       });\n  //     }\n\n  //     console.log('hi')\n  //   ` \n  //   body.prepend(script)\n  // })\n\n  const handleSubmit = (event) => {\n    setErrormessage(null)\n    event.preventDefault()\n    login(username, password).then(data => {\n      if(data.ok === 0) {\n        return setErrormessage(data.message)\n      }\n      setAuthToken(data.token)\n\n      getMe().then(response => {\n        if (response.ok !== 1) {\n          setAuthToken(null)\n          return setErrormessage(response.toString())\n        }\n        setUser(response.data)\n        history.push('/')\n      })\n    })\n  }\n\n  return (\n    <Container>\n      <form onSubmit={handleSubmit}>\n        <InputContainer>\n          username:{\" \"}\n          <input type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)}></input>\n        </InputContainer>\n        <InputContainer>\n          password:{\" \"}\n          <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)}></input>\n        </InputContainer>\n        <Button>登入</Button>\n      </form>\n      { errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage> }\n      <button>登入</button>\n      {/* <button onclick={() => logout()}>登出</button> */}\n      <div id=\"status\"></div>\n    </Container>\n  )\n}","import React, { useState } from \"react\"\nimport styled from \"styled-components\"\nimport { submitPost } from '../../WebAPI'\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport { useHistory } from 'react-router-dom'\n\nconst NewPostContainer = styled.div `\n  height: 70%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n\n  &:nth-child(3) {\n    width:100px;\n  }\n`\n\nconst Section = styled.div `\n  display: block;\n  width: 90vw;\n`\n\nconst Input = styled.input`\n  width: 100%;\n  height: 40px;\n  border: solid 0.1px rgb(0,0,0,0.2);\n  border-radius: 3px;\n  font-size:20px;\n`\n\nconst Button = styled.button`\n  padding: 8px 10px;\n  border: none;\n  font-size: 20px;\n  background: rgb(0,0,0,0.5);\n  border-radius: 5px;\n  cursor: pointer;\n  color: white;\n  margin-top: 30px;\n`\n\nconst ErrorMessage = styled.div `\n  color: red;\n`\n\nexport default function NewPostPage() {\n  const [title, setTitle] = useState('')\n  const [body, setBody] = useState('')\n  const [errorMessage, setErrorMessage] = useState('')\n\n  const history = useHistory()\n\n  function handleSubmit() {\n    if(title === '' || body === '') {\n      return setErrorMessage('請輸入資料')\n    }\n    submitPost(title, body).then(() => {\n      history.push('/')\n    })\n  }\n\n  return (\n    <NewPostContainer>\n      <Section>\n        <h2>Title</h2>\n        <Input value={title} onChange={(event) => {setTitle(event.target.value)}}></Input>\n      </Section>\n      <Section>\n        <h2>Body</h2>\n        <CKEditor \n          editor={ ClassicEditor }\n          value={body}\n          onReady={ editor => {\n              // You can store the \"editor\" and use when it is needed.\n              console.log( 'Editor is ready to use!', editor );\n          } }\n          onChange={ ( event, editor ) => {\n              const data = editor.getData();\n              let newData = data.replace('<p>', '')\n              newData = newData.replace('</p>', '')\n              setBody(newData)\n              console.log( { event, editor, newData } );\n          } }\n          onBlur={ ( event, editor ) => {\n              console.log( 'Blur.', editor );\n          } }\n          onFocus={ ( event, editor ) => {\n              console.log( 'Focus.', editor );\n          } }\n        />\n      </Section>\n      <Button onClick={handleSubmit}>Submit</Button>\n      <ErrorMessage>{errorMessage}</ErrorMessage>\n    </NewPostContainer>\n  )\n}\n","import React, { useEffect, useState } from \"react\"\nimport styled from \"styled-components\"\nimport PropTypes from \"prop-types\"\nimport {\n  useParams,\n  Link\n} from \"react-router-dom\";\nimport { getPostsById } from '../../WebAPI'\n\nNewPostPage.propTypes = {\n  post: PropTypes.object\n}\n\nconst SinglePostContainer = styled.div `\n  width: 70vw;\n  margin: 0 auto;\n`\n\nconst TitleContainer = styled.div `\n  margin-top: 30px;\n  display: flex;\n  justify-content: space-between;\n`\n\nconst Title = styled.div `\n  font-weight: bold;\n  font-size: 26px;\n  vertical-align: baseline;\n`\n\nconst CreatedAt = styled.div `\n  font-size: 20px;\n  vertical-align: bottom;\n  color: rgb(0,0,0,0.6);\n`\n\nconst Body = styled.div `\n  margin-top: 10px;\n  padding-top: 20px;\n  border-top: solid 0.5px rgb(0,0,0,0.3);\n  font-size:26px;\n`\n\nexport default function NewPostPage() {\n  const [value, setValue] = useState({})\n  const {id} = useParams()\n  useEffect(() => {\n    getPostsById(id)\n    .then(result => {\n      setValue(result[0])\n      return console.log(value)\n    }).catch(error => {\n      return console.log(error.toString())\n    })\n  }, [])\n\n  return (\n    <SinglePostContainer>\n      <TitleContainer>\n        <Title>{value.title}</Title>\n        <CreatedAt>{new Date(value.createdAt).toLocaleTimeString()}</CreatedAt>\n      </TitleContainer>\n      <Body>{value.body}</Body>\n    </SinglePostContainer>\n  )\n}\n","import React, { useState, useContext } from \"react\"\nimport styled from \"styled-components\"\nimport { register, getMe } from '../../WebAPI'\nimport { setAuthToken } from '../../utils'\nimport { useHistory } from 'react-router-dom'\nimport { AuthContext } from '../../contexts'\n\nconst ErrorMessage = styled.div `\n  color: red;\n  margin-top: 20px;\n`\n\nconst Container = styled.div `\n  position: relative;\n  left: 50%;\n  transform: translate(-50%,0px);\n  width: 30vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 30px;\n  background: white;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  border-radius: 5px;\n  border: solid 0.5px rgb(0,0,0,0.2);\n`\n\nconst InputContainer = styled.div `\n  padding-top: 10px;\n  padding-bottom: 10px;\n`\n\nconst Button = styled.button `\n  padding: 6px 10px;\n  border: none;\n  border-radius: 2px;\n  background: rgb(0,0,0,0.15);\n  font-size: 20px;\n  position: relative;\n  left: 50%;\n  transform: translate(-50%,0px);\n  margin-top:10px;\n`\n\nexport default function LoginPage() {\n  const { setUser } = useContext(AuthContext)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [nickname, setNickname] = useState('')\n  const [errorMessage, setErrormessage] = useState('')\n  const history = useHistory()\n\n  const handleSubmit = (event) => {\n    setErrormessage(null)\n    event.preventDefault()\n    register(username, password, nickname)\n    .then(data => {\n      if(data.ok === 0) {\n        return setErrormessage(data.message)\n      }\n      setAuthToken(data.token)\n      getMe().then(response => {\n        if (response.ok !== 1) {\n          setAuthToken(null)\n          return setErrormessage(response.toString())\n        }\n        setUser(response.data)\n        history.push('/')\n      })\n    })\n  }\n\n  return (\n    <Container>\n      <form onSubmit={handleSubmit}>\n        <InputContainer>\n          username:{\" \"}\n          <input type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)}></input>\n        </InputContainer>\n        <InputContainer>\n          password:{\" \"}\n          <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)}></input>\n        </InputContainer>\n        <InputContainer>\n          nickname:{\" \"}\n          <input type=\"text\" value={nickname} onChange={(e) => setNickname(e.target.value)}></input>\n        </InputContainer>\n        <Button>註冊</Button>\n      </form>\n      { errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage> }\n    </Container>\n  )\n}","import React, { useContext } from \"react\"\nimport styled from \"styled-components\"\nimport {\n  Link,\n  useLocation\n} from \"react-router-dom\";\nimport { AuthContext } from '../../contexts'\nimport { setAuthToken } from '../../utils'\nimport { useHistory } from 'react-router-dom'\n\nconst HeaderContainer =styled.div `\n  height: 64px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  right: 0;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  position: fixed;\n  border-bottom: solid 0.1px rgb(0,0,0,0.2);\n  padding: 0px, 30px;\n  background: white;\n  box-shadow: 0.2px 0.2px 0.3px;\n`\n\nconst Brand = styled.div `\n  margin-left: 20px;\n  font-size: 32px;\n  font-weight: bold;\n  text-decoration: none;\n  color: black;\n`\n\nconst NavbarList = styled.div `\n  display: flex;\n  align-items: center;\n`\n\nconst Nav = styled(Link) ` \n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 64px;\n  box-sizing: border-box;\n  width: 100px;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n  transition: font-size 0.3s;\n\n  &:hover {\n    font-size:18px\n  }\n\n  ${(props) => \n    props.$active && `background: rgb(0,0,0,0.2)`\n  }\n`\n\nconst LeftContainer = styled.div `\n  display: flex;\n  align-items: center;\n\n  ${NavbarList} {\n    margin-left: 32px;\n  }\n`\n\nexport default function Header() {\n  const location = useLocation()\n  const history = useHistory()\n  const { user, setUser } = useContext(AuthContext)\n\n  const handleLogout = () => {\n    setAuthToken('')\n    setUser(null)\n    if(location.pathname !== \"/\") {\n      history.push('/')\n    }\n  }\n\n  return (\n    <HeaderContainer>\n      <LeftContainer>\n        <Brand as={Link} to='/'>大家的部落格</Brand>\n        <NavbarList>\n          <Nav to='/' $active={location.pathname === '/'} >首頁</Nav>\n          <Nav to='/about' $active={location.pathname === '/about'} >關於</Nav>\n          { user && <Nav to='/new-post' $active={location.pathname === '/new-post'}>發布文章</Nav> }\n        </NavbarList>\n      </LeftContainer>\n      <NavbarList>\n        { !user && <Nav to='/login' $active={location.pathname === '/login'}>登入</Nav> }\n        { !user && <Nav to='/register' $active={location.pathname === '/register'}>註冊</Nav> }\n        { user && <Nav onClick={handleLogout}>登出</Nav>}\n      </NavbarList>\n    </HeaderContainer>\n  )\n}\n","import React, { useState, useEffect } from \"react\"\nimport styled from \"styled-components\"\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport HomePage from '../../pages/HomePage'\nimport AboutPage from '../../pages/AboutPage'\nimport LoginPage from '../../pages/LoginPage'\nimport NewPostPage from '../../pages/NewPostPage'\nimport SinglePostPage from '../../pages/SinglePostPage'\nimport RegisterPage from '../../pages/RegisterPage'\nimport Header from '../Header'\nimport { AuthContext } from \"../../contexts\";\nimport { getMe } from \"../../WebAPI\"\n\nconst CenterContainer = styled.div `\n  padding-top: 64px;\n  padding-bottom: 50px;\n`\n\nconst Footer = styled.div `\n  position: absolute;\n  bottom: 0px;\n  width: 100%;\n  height: 50px;\n  font-size: 16px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: rgb(0,0,0,0.2);\n`\n\nexport default function App() {\n  const [user, setUser] = useState(null)\n  const [isLoadinGetMe, setIsLoadinGetMe] = useState(false)\n\n  useEffect(() => {\n    if(localStorage.getItem('token')) {\n      setIsLoadinGetMe(true)\n      getMe().then(response => {\n        if(response.ok) {\n          setUser(() => {\n            return response.data\n          })\n          setIsLoadinGetMe(false)\n        }\n      })\n    }\n  }, [])\n\n  return (\n    <AuthContext.Provider value={{user, setUser}}>\n          <Router>\n            {!isLoadinGetMe && <Header /> }\n            {!isLoadinGetMe && (\n              <CenterContainer>\n                <Switch>\n                  <Route exact path=\"/\"> \n                    <HomePage/>\n                  </Route>\n                  <Route path=\"/about\"> \n                    <AboutPage />\n                  </Route>\n                  <Route path=\"/new-post\"> \n                    <NewPostPage />\n                  </Route>\n                  <Route path=\"/login\">\n                    <LoginPage />\n                  </Route>\n                  <Route path=\"/posts/:id\">\n                    <SinglePostPage />\n                  </Route>\n                  <Route path=\"/register\">\n                    <RegisterPage />\n                  </Route>\n                </Switch>\n              </CenterContainer>\n            )}\n            {!isLoadinGetMe && <Footer>Made by Ian!</Footer> }\n          </Router>\n    </AuthContext.Provider>\n  )\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport styled, { ThemeProvider } from \"styled-components\"; //一個 <ThemeProvider>的外層 Component 來實踐換網站主題設計的系統\n\nconst theme = {\n  colors : {\n    light_gray : '#D0D0D0',\n    black : '#d40202',\n  }\n}\n\nfunction initFacebookSdk() {\n  return new Promise(resolve => {\n    console.log('init')\n    //初始化\n    window.fbAsyncInit = function() {\n      window.FB.init({\n        appId      : '382475983013781',\n        cookie     : true,\n        xfbml      : true,\n        version    : 'v9.0'\n      });\n      //記錄用戶行為資料 可在後台查看用戶資訊\n      window.FB.AppEvents.logPageView();   \n        \n    };\n    //嵌入臉書sdk\n    (function(d, s, id){\n       var js, fjs = d.getElementsByTagName(s)[0];\n       if (d.getElementById(id)) {return;}\n       js = d.createElement(s); js.id = id;\n       js.src = \"https://connect.facebook.net/en_US/sdk.js\";\n       fjs.parentNode.insertBefore(js, fjs);\n     }(document, 'script', 'facebook-jssdk'));\n  })\n}\n\nconst startApp = () => {\n  console.log('getStatus')\n  window.FB.getLoginStatus(function(response) {\n    statusChangeCallback(response);\n  });\n\n  function testAPI() {\n    console.log('Welcome!  Fetching your information.... ');\n    window.FB.api('/me', function(response) {\n      console.log('Successful login for: ' + response.name);\n      document.getElementById('status').innerHTML =\n        'Thanks for logging in, ' + response.name + '!';\n    });\n\n  }\n  \n  function statusChangeCallback(response) {\n    console.log('statusChangeCallback');\n    console.log(response);\n    // The response object is returned with a status field that lets the\n    // app know the current login status of the person.\n    // Full docs on the response object can be found in the documentation\n    // for FB.getLoginStatus().\n    if (response.status === 'connected') {\n      // Logged into your app and Facebook.\n      // testAPI();\n      window.FB.api('/me',{fields: 'id,name,email'}, function (response) {\n        console.log(response)})\n    } else if (response.status === 'not_authorized') {\n      // The person is logged into Facebook, but not your app.\n      document.getElementById('status').innerHTML = 'Please log ' +\n        'into this app.';\n      window.FB.login(function (response) {\n        if (response.authResponse) {\n          window.FB.api('/me',{fields: 'id,name,email'}, function (response) {\n            console.log(response)\n            //這邊就可以判斷取得資料跟網站使用者資料是否一致\n          });\n        }\n      //FB.login()預設只會回傳基本的授權資料\n      //如果想取得額外的授權資料需要另外設定在scope參數裡面\n      //可以設定的授權資料可以參考官方文件          \n      });\n    } else {\n      // The person is not logged into Facebook, so we're not sure if\n      // they are logged into this app or not.\n      document.getElementById('status').innerHTML = 'Please log ' +\n        'into Facebook.';\n      window.FB.login(function (response) {\n        if (response.authResponse) {\n          window.FB.api('/me',{fields: 'id,name,email'}, function (response) {\n            console.log(response)\n            //這邊就可以判斷取得資料跟網站使用者資料是否一致\n          });\n        }\n      //FB.login()預設只會回傳基本的授權資料\n      //如果想取得額外的授權資料需要另外設定在scope參數裡面\n      //可以設定的授權資料可以參考官方文件          \n      });\n        \n    }\n  }\n}\n\ninitFacebookSdk()\n\n\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n      <App />\n      <button onClick={() => startApp()}>登入</button>\n      <div id={'status'}></div>\n  </ThemeProvider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}